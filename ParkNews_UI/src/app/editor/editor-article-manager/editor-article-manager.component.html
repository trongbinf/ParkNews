<div class="editor-article-manager">
  <div class="page-header">
    <h1 class="page-title">Quản lý bài viết của tôi</h1>
    <p class="page-subtitle">Quản lý và chỉnh sửa các bài viết của bạn</p>
  </div>
  
  <div class="toolbar">
    <div class="search-box">
      <input type="text" [(ngModel)]="searchText" placeholder="Tìm kiếm bài viết..." (ngModelChange)="search()" class="form-control">
    </div>
    <button class="btn btn-primary" routerLink="/editor/new-article">
      <i class="fas fa-plus"></i> Tạo bài viết mới
    </button>
  </div>

  <div *ngIf="loading" class="loading-spinner">
    <i class="fas fa-spinner fa-spin"></i> Đang tải...
  </div>

  <div *ngIf="!loading && articles.length === 0" class="empty-state">
    <div class="empty-icon">
      <i class="fas fa-newspaper"></i>
    </div>
    <h3>Chưa có bài viết nào</h3>
    <p>Bạn chưa tạo bài viết nào. Hãy bắt đầu bằng cách tạo bài viết mới.</p>
    <button class="btn btn-primary" routerLink="/editor/new-article">
      <i class="fas fa-plus"></i> Tạo bài viết mới
    </button>
  </div>

  <div *ngIf="!loading && articles.length > 0" class="articles-grid">
    <div class="article-card" *ngFor="let article of articles">
      <div class="article-image" [ngStyle]="{'background-image': 'url(' + article.FeaturedImageUrl + ')'}">
        <span class="article-status" [class.published]="article.IsPublished" [class.draft]="!article.IsPublished">
          {{article.IsPublished ? 'Đã xuất bản' : 'Bản nháp'}}
        </span>
      </div>
      <div class="article-content">
        <h3 class="article-title">{{article.Title}}</h3>
        <p class="article-category" *ngIf="article.Category">{{article.Category.Name}}</p>
        <p class="article-date">{{article.PublishDate | date:'dd/MM/yyyy'}}</p>
        <div class="article-actions">
          <button class="btn btn-sm btn-outline-primary" [routerLink]="['/editor/articles', article.Id]">
            <i class="fas fa-edit"></i> Sửa
          </button>
          <button class="btn btn-sm btn-outline-danger" (click)="deleteArticle(article.Id)">
            <i class="fas fa-trash"></i> Xóa
          </button>
          <a [routerLink]="['/article', article.Id]" class="btn btn-sm btn-outline-secondary" target="_blank">
            <i class="fas fa-eye"></i> Xem
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="pagination" *ngIf="articles.length > 0">
    <button class="btn btn-outline-primary" [disabled]="currentPage === 1" (click)="changePage(currentPage - 1)">
      <i class="fas fa-chevron-left"></i>
    </button>
    <span>Trang {{currentPage}} / {{totalPages}}</span>
    <button class="btn btn-outline-primary" [disabled]="currentPage === totalPages" (click)="changePage(currentPage + 1)">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
</div> 